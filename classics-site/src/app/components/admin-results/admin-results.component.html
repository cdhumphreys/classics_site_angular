<div class="container">
  <div class="row">
    <div class="col-xs-12">
      <h3>View Student Results</h3>
    </div>
  </div>
  <div class="row">
    <div class="col-xs-12">
      <h5>Year Groups</h5>
      <ul>
        <ng-container *ngFor="let year of yearGroups" >
          <li (click)="onSelectYearGroup($event, year)" class="choice year-group-choice" [ngClass]="{'active': selectedYearGroup == year}">
            <span *ngIf="year == 'none'">No group</span>
            <span *ngIf="year != 'none'">Year {{ year }}</span>
          </li>
        </ng-container>

      </ul>
    </div>
  </div>
  <div class="row margin-top-spacing">
    <div class="col-xs-12">
      <results-preview *ngIf="selectedYearGroup" [studentResults]="studentResultsPreview" (selectedExercise)="onSelectExercise($event)"></results-preview>
    </div>
  </div>

  <div class="row margin-top-spacing" *ngIf="chosenStudentData.length != 0">
    <div class="col-xs-12">
      <h4>Section Results</h4>
      <table>
        <tr>
          <th>Student Username</th>
          <th>Group</th>
          <th>Course</th>
          <th>Section</th>
          <th>Percentage</th>
          <th>Date</th>
        </tr>
        <ng-container *ngFor="let student of chosenStudentData">
          <tr *ngFor="let gapFill of student.gapFills">
            <td>{{ student.email|nameOnly }}</td>
            <td>{{ student.group }}</td>

            <td>{{ gapFill.course }}</td>
            <td style="text-align:center;">{{ gapFill.exercise }}</td>
            <td style="text-align:center;">{{ gapFill.percentage }}%</td>
            <td>{{ gapFill.date|date }}</td>
          </tr>
        </ng-container>
      </table>
    </div>
  </div>
</div>
